(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const h of r.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();class l{constructor(t){this.svg=t;const{width:e,height:i}=this.svg.getBoundingClientRect();this.width=e,this.height=i}draw(){this.svg.classList.add("board")}}class a{static generateRandomNumber(t,e){return Math.floor(Math.random()*(e-t)+t)}static generateRandomData(t,e,i){const s=[];for(let r=0;r<t;r++)s.push(Math.floor(Math.random()*(i-e)+e));return s}static months(t,e="short"){return e==="short"?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].splice(0,t):["January","February","March","April","May","June","July","August","September","October","November","December"].splice(0,t)}static generateRandomColor(){return`#${Math.floor(Math.random()*16777215).toString(16)}`}static max(t){return Math.max(...t)}}class p{constructor({rect:t,bar:e}){this.rect=t,this.width=10,this.bar=e,this.popover=document.querySelector(".popover")}init(){this.rect.addEventListener("mouseenter",()=>{this.popover.classList.add("popover--show"),this.popover.style.left=`${this.bar.x+this.bar.width/2-this.width/2}px`,this.popover.style.top=`${this.bar.y-this.bar.padding.y}px`,this.popoverTitle(),this.popoverIndicator(),this.popoverValue(),this.rect.addEventListener("mouseleave",()=>{this.popover.classList.remove("popover--show")})})}popoverTitle(){const t=document.querySelector(".popover__title");t.innerHTML=this.bar.text}popoverIndicator(){const t=document.querySelector(".popover__indicator");t.style.background=this.bar.color}popoverValue(){const t=document.querySelector(".popover__value");t.innerHTML=this.bar.height}}class g{constructor({x:t,y:e,width:i,height:s,padding:r,text:h,svg:c}){this.x=t,this.y=e,this.width=i,this.height=s,this.padding=r,this.text=h,this.svg=c,this.color=a.generateRandomColor()}draw(){const t=document.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("x",this.x),t.setAttribute("y",this.y),t.setAttribute("width",this.width),t.setAttribute("height",this.height),t.classList.add("bar"),new p({rect:t,bar:this}).init(),t.style.fill=this.color,t.style.stroke=this.color,this.svg.appendChild(t)}}class n{constructor({x1:t,x2:e,y1:i,y2:s,svg:r}){this.x1=t,this.x2=e,this.y1=i,this.y2=s,this.svg=r}draw(){const t=document.createElementNS("http://www.w3.org/2000/svg","line");t.setAttribute("x1",this.x1),t.setAttribute("x2",this.x2),t.setAttribute("y1",this.y1),t.setAttribute("y2",this.y2),t.classList.add("line"),this.svg.appendChild(t)}}class d{constructor({x:t,y:e,text:i,svg:s}){this.x=t,this.y=e,this.text=i,this.svg=s}draw(){const t=document.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("x",this.x),t.setAttribute("y",this.y),t.classList.add("label"),t.innerHTML=this.text,this.svg.appendChild(t)}}class u extends l{constructor(t,e){super(t),this.padding={y:30,x:30},this.svg=t,this.data=e,this.months=a.months(e.length,"long"),this.max=a.max(this.data),this.step=this.height/this.max}init(){this.draw(this.data)}draw(){super.draw(),this.data.forEach((t,e)=>{const s=(this.width-this.padding.x*2)/this.data.length;this.height/100*t;const r={height:this.height/100*t,width:s-10*5};this.drawXAxis(e,s),this.drawYAxis(e,s),this.drawBar({index:e,baseWidth:s,size:r})})}drawXAxis(t,e){new n({x1:0,x2:this.width,y1:this.height-this.padding.y-t*e,y2:this.height-this.padding.y-t*e,svg:this.svg}).draw(),this.drawXAxisLabel(t,e)}drawXAxisLabel(t,e){new d({x:this.padding.x+t*e+e/2,y:this.height-this.padding.y/2,text:this.months[t],svg:this.svg}).draw()}drawYAxis(t,e){new n({x1:this.padding.x+t*e,x2:this.padding.x+t*e,y1:0,y2:this.height,svg:this.svg}).draw()}drawYAxisLabel(t,e){new d({x1:0,x2:this.width,y:this.height-max/e,text:t*e,svg:this.svg}).draw()}drawBar({index:t,baseWidth:e,size:i}){new g({x:this.padding.x+t*e+(e-i.width)/2,y:this.height-i.height-this.padding.y+1,width:i.width,height:i.height,padding:this.padding,text:this.months[t],svg:this.svg}).draw()}update(t){this.clear(),this.draw(t)}clear(){this.svg.innerHTML=""}}const v=document.querySelector("svg"),w=document.getElementById("random-button"),y=a.generateRandomData(7,10,90),x=new u(v,y);x.init();w.addEventListener("click",()=>{});
